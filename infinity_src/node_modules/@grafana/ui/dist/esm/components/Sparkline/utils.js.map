{"version":3,"file":"utils.js","sources":["../../../../src/components/Sparkline/utils.ts"],"sourcesContent":["import { DataFrame, FieldConfig, FieldSparkline, IndexVector } from '@grafana/data';\nimport { GraphFieldConfig } from '@grafana/schema';\n\nimport { applyNullInsertThreshold } from '../GraphNG/nullInsertThreshold';\n\n/** @internal\n * Given a sparkline config returns a DataFrame ready to be turned into Plot data set\n **/\nexport function preparePlotFrame(sparkline: FieldSparkline, config?: FieldConfig<GraphFieldConfig>): DataFrame {\n  const length = sparkline.y.values.length;\n  const yFieldConfig = {\n    ...sparkline.y.config,\n    ...config,\n  };\n\n  return applyNullInsertThreshold({\n    frame: {\n      refId: 'sparkline',\n      fields: [\n        sparkline.x ?? IndexVector.newField(length),\n        {\n          ...sparkline.y,\n          config: yFieldConfig,\n        },\n      ],\n      length,\n    },\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAQgB,SAAA,gBAAA,CAAiB,WAA2B,MAAmD,EAAA;AAR/G,EAAA,IAAA,EAAA,CAAA;AASE,EAAM,MAAA,MAAA,GAAS,SAAU,CAAA,CAAA,CAAE,MAAO,CAAA,MAAA,CAAA;AAClC,EAAA,MAAM,YAAe,GAAA,cAAA,CAAA,cAAA,CAAA,EAAA,EAChB,SAAU,CAAA,CAAA,CAAE,MACZ,CAAA,EAAA,MAAA,CAAA,CAAA;AAGL,EAAA,OAAO,wBAAyB,CAAA;AAAA,IAC9B,KAAO,EAAA;AAAA,MACL,KAAO,EAAA,WAAA;AAAA,MACP,MAAQ,EAAA;AAAA,QAAA,CACN,EAAU,GAAA,SAAA,CAAA,CAAA,KAAV,IAAe,GAAA,EAAA,GAAA,WAAA,CAAY,SAAS,MAAM,CAAA;AAAA,QAC1C,aAAA,CAAA,cAAA,CAAA,EAAA,EACK,UAAU,CADf,CAAA,EAAA;AAAA,UAEE,MAAQ,EAAA,YAAA;AAAA,SACV,CAAA;AAAA,OACF;AAAA,MACA,MAAA;AAAA,KACF;AAAA,GACD,CAAA,CAAA;AACH;;;;"}