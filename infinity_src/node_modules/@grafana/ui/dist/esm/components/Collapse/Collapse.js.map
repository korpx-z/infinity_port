{"version":3,"file":"Collapse.js","sources":["../../../../src/components/Collapse/Collapse.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes/ThemeContext';\nimport { clearButtonStyles } from '../Button';\nimport { Icon } from '../Icon/Icon';\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  collapse: css`\n    label: collapse;\n    margin-bottom: ${theme.spacing(1)};\n    background-color: ${theme.colors.background.primary};\n    border: 1px solid ${theme.colors.border.medium};\n    position: relative;\n    border-radius: ${theme.shape.radius.default};\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 0;\n  `,\n  collapseBody: css`\n    label: collapse__body;\n    padding: ${theme.spacing(theme.components.panel.padding)};\n    padding-top: 0;\n    flex: 1;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n  `,\n  bodyContentWrapper: css`\n    label: bodyContentWrapper;\n    flex: 1;\n    overflow: hidden;\n  `,\n  loader: css`\n    label: collapse__loader;\n    height: 2px;\n    position: relative;\n    overflow: hidden;\n    background: none;\n    margin: ${theme.spacing(0.5)};\n  `,\n  loaderActive: css`\n    label: collapse__loader_active;\n    &:after {\n      content: ' ';\n      display: block;\n      width: 25%;\n      top: 0;\n      top: -50%;\n      height: 250%;\n      position: absolute;\n      animation: loader 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) 500ms;\n      animation-iteration-count: 100;\n      left: -25%;\n      background: ${theme.colors.primary.main};\n    }\n    @keyframes loader {\n      from {\n        left: -25%;\n        opacity: 0.1;\n      }\n      to {\n        left: 100%;\n        opacity: 1;\n      }\n    }\n  `,\n  header: css`\n    label: collapse__header;\n    padding: ${theme.spacing(1, 2, 1, 2)};\n    display: flex;\n    transition: all 0.1s linear;\n  `,\n  headerCollapsed: css`\n    label: collapse__header--collapsed;\n    padding: ${theme.spacing(1, 2, 1, 2)};\n  `,\n  headerLabel: css`\n    label: collapse__header-label;\n    font-weight: ${theme.typography.fontWeightMedium};\n    margin-right: ${theme.spacing(1)};\n    font-size: ${theme.typography.size.md};\n  `,\n  icon: css`\n    label: collapse__icon;\n    margin: ${theme.spacing(0.25, 1, 0, -1)};\n  `,\n});\n\nexport interface Props {\n  /** Expand or collapse te content */\n  isOpen?: boolean;\n  /** Element or text for the Collapse header */\n  label: React.ReactNode;\n  /** Indicates loading state of the content */\n  loading?: boolean;\n  /** Toggle collapsed header icon */\n  collapsible?: boolean;\n  /** Callback for the toggle functionality */\n  onToggle?: (isOpen: boolean) => void;\n  /** Additional class name for the root element */\n  className?: string;\n}\n\nexport const ControlledCollapse = ({ isOpen, onToggle, ...otherProps }: React.PropsWithChildren<Props>) => {\n  const [open, setOpen] = useState(isOpen);\n  return (\n    <Collapse\n      isOpen={open}\n      collapsible\n      {...otherProps}\n      onToggle={() => {\n        setOpen(!open);\n        if (onToggle) {\n          onToggle(!open);\n        }\n      }}\n    />\n  );\n};\n\nexport const Collapse = ({\n  isOpen,\n  label,\n  loading,\n  collapsible,\n  onToggle,\n  className,\n  children,\n}: React.PropsWithChildren<Props>) => {\n  const buttonStyles = useStyles2(clearButtonStyles);\n  const style = useStyles2(getStyles);\n  const onClickToggle = () => {\n    if (onToggle) {\n      onToggle(!isOpen);\n    }\n  };\n\n  const panelClass = cx([style.collapse, className]);\n  const loaderClass = loading ? cx([style.loader, style.loaderActive]) : cx([style.loader]);\n  const headerClass = collapsible ? cx([style.header]) : cx([style.headerCollapsed]);\n\n  return (\n    <div className={panelClass}>\n      <button type=\"button\" className={cx(buttonStyles, headerClass)} onClick={onClickToggle}>\n        {collapsible && <Icon className={style.icon} name={isOpen ? 'angle-down' : 'angle-right'} />}\n        <div className={cx([style.headerLabel])}>{label}</div>\n      </button>\n      {isOpen && (\n        <div className={cx([style.collapseBody])}>\n          <div className={loaderClass} />\n          <div className={style.bodyContentWrapper}>{children}</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nCollapse.displayName = 'Collapse';\n"],"names":["React"],"mappings":"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"}