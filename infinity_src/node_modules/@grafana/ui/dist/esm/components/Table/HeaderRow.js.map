{"version":3,"file":"HeaderRow.js","sources":["../../../../src/components/Table/HeaderRow.tsx"],"sourcesContent":["import React from 'react';\nimport { HeaderGroup, Column } from 'react-table';\n\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { getFieldTypeIcon } from '../../types';\nimport { Icon } from '../Icon/Icon';\n\nimport { Filter } from './Filter';\nimport { TableStyles } from './styles';\n\nexport interface HeaderRowProps {\n  headerGroups: HeaderGroup[];\n  showTypeIcons?: boolean;\n  tableStyles: TableStyles;\n}\n\nexport const HeaderRow = (props: HeaderRowProps) => {\n  const { headerGroups, showTypeIcons, tableStyles } = props;\n  const e2eSelectorsTable = selectors.components.Panels.Visualization.Table;\n\n  return (\n    <div role=\"rowgroup\" className={tableStyles.headerRow}>\n      {headerGroups.map((headerGroup: HeaderGroup) => {\n        const { key, ...headerGroupProps } = headerGroup.getHeaderGroupProps();\n        return (\n          <div\n            className={tableStyles.thead}\n            {...headerGroupProps}\n            key={key}\n            aria-label={e2eSelectorsTable.header}\n            role=\"row\"\n          >\n            {headerGroup.headers.map((column: Column, index: number) =>\n              renderHeaderCell(column, tableStyles, showTypeIcons)\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nfunction renderHeaderCell(column: any, tableStyles: TableStyles, showTypeIcons?: boolean) {\n  const headerProps = column.getHeaderProps();\n  const field = column.field ?? null;\n\n  if (column.canResize) {\n    headerProps.style.userSelect = column.isResizing ? 'none' : 'auto'; // disables selecting text while resizing\n  }\n\n  headerProps.style.position = 'absolute';\n  headerProps.style.justifyContent = column.justifyContent;\n\n  return (\n    <div className={tableStyles.headerCell} {...headerProps} role=\"columnheader\">\n      {column.canSort && (\n        <>\n          <button {...column.getSortByToggleProps()} className={tableStyles.headerCellLabel}>\n            {showTypeIcons && (\n              <Icon name={getFieldTypeIcon(field)} title={field?.type} size=\"sm\" className={tableStyles.typeIcon} />\n            )}\n            <div>{column.render('Header')}</div>\n            {column.isSorted &&\n              (column.isSortedDesc ? (\n                <Icon size=\"lg\" name=\"arrow-down\" className={tableStyles.sortIcon} />\n              ) : (\n                <Icon name=\"arrow-up\" size=\"lg\" className={tableStyles.sortIcon} />\n              ))}\n          </button>\n          {column.canFilter && <Filter column={column} tableStyles={tableStyles} field={field} />}\n        </>\n      )}\n      {!column.canSort && column.render('Header')}\n      {!column.canSort && column.canFilter && <Filter column={column} tableStyles={tableStyles} field={field} />}\n      {column.canResize && <div {...column.getResizerProps()} className={tableStyles.resizeHandle} />}\n    </div>\n  );\n}\n"],"names":["React"],"mappings":"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"}