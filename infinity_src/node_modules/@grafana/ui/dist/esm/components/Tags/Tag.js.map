{"version":3,"file":"Tag.js","sources":["../../../../src/components/Tags/Tag.tsx"],"sourcesContent":["import { cx, css } from '@emotion/css';\nimport React, { forwardRef, HTMLAttributes } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useTheme2 } from '../../themes';\nimport { IconName } from '../../types/icon';\nimport { getTagColor, getTagColorsFromName } from '../../utils';\nimport { Icon } from '../Icon/Icon';\n\n/**\n * @public\n */\nexport type OnTagClick = (name: string, event: React.MouseEvent<HTMLElement>) => void;\n\nexport interface Props extends Omit<HTMLAttributes<HTMLElement>, 'onClick'> {\n  /** Name of the tag to display */\n  name: string;\n  icon?: IconName;\n  /** Use constant color from TAG_COLORS. Using index instead of color directly so we can match other styling. */\n  colorIndex?: number;\n  onClick?: OnTagClick;\n}\n\nexport const Tag = forwardRef<HTMLElement, Props>(({ name, onClick, icon, className, colorIndex, ...rest }, ref) => {\n  const theme = useTheme2();\n  const styles = getTagStyles(theme, name, colorIndex);\n\n  const onTagClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    onClick?.(name, event);\n  };\n\n  const classes = cx(styles.wrapper, className, { [styles.hover]: onClick !== undefined });\n\n  return onClick ? (\n    <button {...rest} className={classes} onClick={onTagClick} ref={ref as React.ForwardedRef<HTMLButtonElement>}>\n      {icon && <Icon name={icon} />}\n      {name}\n    </button>\n  ) : (\n    <span {...rest} className={classes} ref={ref}>\n      {icon && <Icon name={icon} />}\n      {name}\n    </span>\n  );\n});\n\nTag.displayName = 'Tag';\n\nconst getTagStyles = (theme: GrafanaTheme2, name: string, colorIndex?: number) => {\n  let colors;\n  if (colorIndex === undefined) {\n    colors = getTagColorsFromName(name);\n  } else {\n    colors = getTagColor(colorIndex);\n  }\n  return {\n    wrapper: css`\n      appearance: none;\n      border-style: none;\n      font-weight: ${theme.typography.fontWeightMedium};\n      font-size: ${theme.typography.size.sm};\n      line-height: ${theme.typography.bodySmall.lineHeight};\n      vertical-align: baseline;\n      background-color: ${colors.color};\n      color: ${theme.v1.palette.gray98};\n      white-space: nowrap;\n      text-shadow: none;\n      padding: 3px 6px;\n      border-radius: ${theme.shape.radius.default};\n    `,\n    hover: css`\n      &:hover {\n        opacity: 0.85;\n        cursor: pointer;\n      }\n    `,\n  };\n};\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBO,MAAM,GAAM,GAAA,UAAA,CAA+B,CAAC,EAAA,EAAyD,GAAQ,KAAA;AAAjE,EAAA,IAAA,EAAA,GAAA,EAAA,EAAE,EAAM,IAAA,EAAA,OAAA,EAAS,IAAM,EAAA,SAAA,EAAW,UAxBrF,EAAA,GAwBmD,EAAiD,EAAA,IAAA,GAAA,SAAA,CAAjD,EAAiD,EAAA,CAA/C,MAAM,EAAA,SAAA,EAAS,QAAM,WAAW,EAAA,YAAA,CAAA,CAAA,CAAA;AACnF,EAAA,MAAM,QAAQ,SAAU,EAAA,CAAA;AACxB,EAAA,MAAM,MAAS,GAAA,YAAA,CAAa,KAAO,EAAA,IAAA,EAAM,UAAU,CAAA,CAAA;AAEnD,EAAM,MAAA,UAAA,GAAa,CAAC,KAAyC,KAAA;AAC3D,IAAA,KAAA,CAAM,cAAe,EAAA,CAAA;AACrB,IAAA,KAAA,CAAM,eAAgB,EAAA,CAAA;AAEtB,IAAA,OAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAU,IAAM,EAAA,KAAA,CAAA,CAAA;AAAA,GAClB,CAAA;AAEA,EAAA,MAAM,OAAU,GAAA,EAAA,CAAG,MAAO,CAAA,OAAA,EAAS,SAAW,EAAA,EAAE,CAAC,MAAA,CAAO,KAAK,GAAG,OAAY,KAAA,KAAA,CAAA,EAAW,CAAA,CAAA;AAEvF,EAAA,OAAO,OACL,mBAAAA,cAAA,CAAA,aAAA,CAAC,QAAW,EAAA,aAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA,CAAA,EAAX,EAAiB,SAAA,EAAW,OAAS,EAAA,OAAA,EAAS,UAAY,EAAA,GAAA,EAAA,CAAA,EACxD,IAAQ,oBAAAA,cAAA,CAAA,aAAA,CAAC,QAAK,IAAM,EAAA,IAAA,EAAM,CAC1B,EAAA,IACH,CAEA,mBAAAA,cAAA,CAAA,aAAA,CAAC,MAAS,EAAA,aAAA,CAAA,cAAA,CAAA,EAAA,EAAA,IAAA,CAAA,EAAT,EAAe,SAAW,EAAA,OAAA,EAAS,GACjC,EAAA,CAAA,EAAA,IAAA,oBAASA,cAAA,CAAA,aAAA,CAAA,IAAA,EAAA,EAAK,IAAM,EAAA,IAAA,EAAM,GAC1B,IACH,CAAA,CAAA;AAEJ,CAAC,EAAA;AAED,GAAA,CAAI,WAAc,GAAA,KAAA,CAAA;AAElB,MAAM,YAAe,GAAA,CAAC,KAAsB,EAAA,IAAA,EAAc,UAAwB,KAAA;AAChF,EAAI,IAAA,MAAA,CAAA;AACJ,EAAA,IAAI,eAAe,KAAW,CAAA,EAAA;AAC5B,IAAA,MAAA,GAAS,qBAAqB,IAAI,CAAA,CAAA;AAAA,GAC7B,MAAA;AACL,IAAA,MAAA,GAAS,YAAY,UAAU,CAAA,CAAA;AAAA,GACjC;AACA,EAAO,OAAA;AAAA,IACL,OAAS,EAAA,GAAA,CAAA;AAAA;AAAA;AAAA,mBAAA,EAGQ,MAAM,UAAW,CAAA,gBAAA,CAAA;AAAA,iBACnB,EAAA,KAAA,CAAM,WAAW,IAAK,CAAA,EAAA,CAAA;AAAA,mBACpB,EAAA,KAAA,CAAM,WAAW,SAAU,CAAA,UAAA,CAAA;AAAA;AAAA,wBAAA,EAEtB,MAAO,CAAA,KAAA,CAAA;AAAA,aAClB,EAAA,KAAA,CAAM,GAAG,OAAQ,CAAA,MAAA,CAAA;AAAA;AAAA;AAAA;AAAA,qBAIT,EAAA,KAAA,CAAM,MAAM,MAAO,CAAA,OAAA,CAAA;AAAA,IAAA,CAAA;AAAA,IAEtC,KAAO,EAAA,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,GAMT,CAAA;AACF,CAAA;;;;"}