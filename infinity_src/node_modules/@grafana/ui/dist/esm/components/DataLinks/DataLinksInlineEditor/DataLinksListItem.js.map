{"version":3,"file":"DataLinksListItem.js","sources":["../../../../../src/components/DataLinks/DataLinksInlineEditor/DataLinksListItem.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { DataFrame, DataLink, GrafanaTheme2 } from '@grafana/data';\n\nimport { stylesFactory, useTheme2 } from '../../../themes';\nimport { isCompactUrl } from '../../../utils/dataLinks';\nimport { FieldValidationMessage } from '../../Forms/FieldValidationMessage';\nimport { IconButton } from '../../IconButton/IconButton';\n\nexport interface DataLinksListItemProps {\n  index: number;\n  link: DataLink;\n  data: DataFrame[];\n  onChange: (index: number, link: DataLink) => void;\n  onEdit: () => void;\n  onRemove: () => void;\n  isEditing?: boolean;\n}\n\nexport const DataLinksListItem = ({ link, onEdit, onRemove }: DataLinksListItemProps) => {\n  const theme = useTheme2();\n  const styles = getDataLinkListItemStyles(theme);\n  const { title = '', url = '' } = link;\n\n  const hasTitle = title.trim() !== '';\n  const hasUrl = url.trim() !== '';\n\n  const isCompactExploreUrl = isCompactUrl(url);\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.titleWrapper}>\n        <div className={cx(styles.url, !hasUrl && styles.notConfigured, isCompactExploreUrl && styles.errored)}>\n          {hasTitle ? title : 'Data link title not provided'}\n        </div>\n        <div className={styles.actionButtons}>\n          <IconButton name=\"pen\" onClick={onEdit} />\n          <IconButton name=\"times\" onClick={onRemove} />\n        </div>\n      </div>\n      <div\n        className={cx(styles.url, !hasUrl && styles.notConfigured, isCompactExploreUrl && styles.errored)}\n        title={url}\n      >\n        {hasUrl ? url : 'Data link url not provided'}\n      </div>\n      {isCompactExploreUrl && (\n        <FieldValidationMessage>Explore data link may not work in the future. Please edit.</FieldValidationMessage>\n      )}\n    </div>\n  );\n};\n\nconst getDataLinkListItemStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    wrapper: css`\n      margin-bottom: ${theme.spacing(2)};\n      width: 100%;\n      &:last-child {\n        margin-bottom: 0;\n      }\n      display: flex;\n      flex-direction: column;\n    `,\n    titleWrapper: css`\n      label: data-links-list-item-title;\n      justify-content: space-between;\n      display: flex;\n      width: 100%;\n      align-items: center;\n    `,\n    actionButtons: css`\n      margin-left: ${theme.spacing(1)};\n      display: flex;\n    `,\n    errored: css`\n      color: ${theme.colors.error.text};\n      font-style: italic;\n    `,\n    notConfigured: css`\n      font-style: italic;\n    `,\n    title: css`\n      color: ${theme.colors.text.primary};\n      font-size: ${theme.typography.size.sm};\n      font-weight: ${theme.typography.fontWeightMedium};\n    `,\n    url: css`\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.size.sm};\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 90%;\n    `,\n  };\n});\n"],"names":["React"],"mappings":"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"}