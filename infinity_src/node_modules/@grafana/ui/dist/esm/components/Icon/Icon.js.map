{"version":3,"file":"Icon.js","sources":["../../../../src/components/Icon/Icon.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport { GrafanaTheme2, isIconName } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes/ThemeContext';\nimport { IconName, IconType, IconSize } from '../../types/icon';\n\nimport { cacheInitialized, initIconCache, iconRoot } from './iconBundle';\nimport { getIconSubDir, getSvgSize } from './utils';\n\nexport interface IconProps extends React.HTMLAttributes<HTMLDivElement> {\n  name: IconName;\n  size?: IconSize;\n  type?: IconType;\n  title?: string;\n}\n\nconst getIconStyles = (theme: GrafanaTheme2) => {\n  return {\n    // line-height: 0; is needed for correct icon alignment in Safari\n    container: css`\n      label: Icon;\n      display: inline-block;\n      line-height: 0;\n    `,\n    icon: css`\n      vertical-align: middle;\n      display: inline-block;\n      fill: currentColor;\n    `,\n    orange: css`\n      fill: ${theme.v1.palette.orange};\n    `,\n  };\n};\n\nexport const Icon = React.forwardRef<HTMLDivElement, IconProps>(\n  ({ size = 'md', type = 'default', name, className, style, title = '', ...divElementProps }, ref) => {\n    const styles = useStyles2(getIconStyles);\n\n    /* Temporary solution to display also font awesome icons */\n    if (name?.startsWith('fa fa-')) {\n      return <i className={getFontAwesomeIconStyles(name, className)} {...divElementProps} style={style} />;\n    }\n\n    if (!cacheInitialized) {\n      initIconCache();\n    }\n\n    if (!isIconName(name)) {\n      console.warn('Icon component passed an invalid icon name', name);\n    }\n\n    if (!name || name.includes('..')) {\n      return <div ref={ref}>invalid icon name</div>;\n    }\n\n    const svgSize = getSvgSize(size);\n    const svgHgt = svgSize;\n    const svgWid = name.startsWith('gf-bar-align') ? 16 : name.startsWith('gf-interp') ? 30 : svgSize;\n    const subDir = getIconSubDir(name, type);\n    const svgPath = `${iconRoot}${subDir}/${name}.svg`;\n\n    return (\n      <div className={styles.container} {...divElementProps} ref={ref}>\n        <SVG\n          src={svgPath}\n          width={svgWid}\n          height={svgHgt}\n          title={title}\n          className={cx(styles.icon, className, type === 'mono' ? { [styles.orange]: name === 'favorite' } : '')}\n          style={style}\n        />\n      </div>\n    );\n  }\n);\n\nIcon.displayName = 'Icon';\n\nfunction getFontAwesomeIconStyles(iconName: string, className?: string): string {\n  return cx(\n    iconName,\n    {\n      'fa-spin': iconName === 'fa fa-spinner',\n    },\n    className\n  );\n}\n"],"names":["React"],"mappings":"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"}