{"version":3,"file":"TypeaheadItem.js","sources":["../../../../src/components/Typeahead/TypeaheadItem.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\nimport Highlighter from 'react-highlight-words';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes/ThemeContext';\nimport { CompletionItem, CompletionItemKind } from '../../types/completion';\n\nimport { PartialHighlighter } from './PartialHighlighter';\n\ninterface Props {\n  isSelected: boolean;\n  item: CompletionItem;\n  style: React.CSSProperties;\n  prefix?: string;\n\n  onClickItem?: (event: React.MouseEvent) => void;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  typeaheadItem: css`\n    border: none;\n    background: none;\n    text-align: left;\n    label: type-ahead-item;\n    height: auto;\n    font-family: ${theme.typography.fontFamilyMonospace};\n    padding: ${theme.spacing(1, 1, 1, 2)};\n    font-size: ${theme.typography.bodySmall.fontSize};\n    text-overflow: ellipsis;\n    overflow: hidden;\n    z-index: 11;\n    display: block;\n    white-space: nowrap;\n    cursor: pointer;\n    transition: color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), border-color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1),\n      background 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), padding 0.15s cubic-bezier(0.645, 0.045, 0.355, 1);\n  `,\n\n  typeaheadItemSelected: css`\n    label: type-ahead-item-selected;\n    background-color: ${theme.colors.background.secondary};\n  `,\n\n  typeaheadItemMatch: css`\n    label: type-ahead-item-match;\n    color: ${theme.v1.palette.yellow};\n    border-bottom: 1px solid ${theme.v1.palette.yellow};\n    padding: inherit;\n    background: inherit;\n  `,\n\n  typeaheadItemGroupTitle: css`\n    label: type-ahead-item-group-title;\n    color: ${theme.colors.text.secondary};\n    font-size: ${theme.typography.bodySmall.fontSize};\n    line-height: ${theme.typography.body.lineHeight};\n    padding: ${theme.spacing(1)};\n  `,\n});\n\nexport const TypeaheadItem = (props: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const { isSelected, item, prefix, style, onMouseEnter, onMouseLeave, onClickItem } = props;\n  const className = isSelected ? cx([styles.typeaheadItem, styles.typeaheadItemSelected]) : cx([styles.typeaheadItem]);\n  const highlightClassName = cx([styles.typeaheadItemMatch]);\n  const itemGroupTitleClassName = cx([styles.typeaheadItemGroupTitle]);\n  const label = item.label || '';\n\n  if (item.kind === CompletionItemKind.GroupTitle) {\n    return (\n      <li className={itemGroupTitleClassName} style={style}>\n        <span>{label}</span>\n      </li>\n    );\n  }\n\n  return (\n    <li role=\"none\">\n      <button\n        role=\"menuitem\"\n        className={className}\n        style={style}\n        onMouseDown={onClickItem}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        type=\"button\"\n      >\n        {item.highlightParts !== undefined ? (\n          <PartialHighlighter\n            text={label}\n            highlightClassName={highlightClassName}\n            highlightParts={item.highlightParts}\n          ></PartialHighlighter>\n        ) : (\n          <Highlighter\n            textToHighlight={label}\n            searchWords={[prefix ?? '']}\n            autoEscape={true}\n            highlightClassName={highlightClassName}\n          />\n        )}\n      </button>\n    </li>\n  );\n};\n"],"names":["React"],"mappings":"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"}