"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.uql = void 0;
var ast_1 = require("./ast");
var evaluate_1 = require("./evaluate");
var uql = function (query, options) {
    return new Promise(function (resolve, reject) {
        if (!query) {
            resolve("hello there! provide a valid query");
        }
        else {
            (0, ast_1.getAST)(query)
                .then(function (res) {
                (0, evaluate_1.evaluate)(res, options)
                    .then(function (response) { return resolve(response); })
                    .catch(function (ex) { return reject(ex); });
            })
                .catch(function (ex) { return reject(ex); });
        }
    });
};
exports.uql = uql;
